package thumbnail_test

import (
	"os"

	"go.mau.fi/mautrix-telegram/pkg/gotd/telegram/thumbnail"
)

func ExampleDecodePath() {
	thumb := []uint8{
		0x1a, 0x00, 0xb2, 0x04, 0xdc, 0x47, 0x03, 0x81, 0x73, 0x55, 0x48, 0x01, 0x46, 0x05, 0x44, 0x45,
		0x4f, 0x8b, 0x52, 0x8d, 0x4e, 0x8a, 0x5d, 0x8b, 0x6e, 0x8b, 0x71, 0x81, 0x4c, 0x4d, 0x07, 0x47,
		0x50, 0x02, 0x81, 0x46, 0x84, 0x4b, 0x83, 0x50, 0x80, 0x44, 0x67, 0x47, 0x01, 0x6b, 0x47, 0x08,
		0x43, 0x44, 0x4f, 0x53, 0x43, 0x56, 0x8e, 0x44, 0x97, 0x94, 0x9d, 0x9c, 0x82, 0x84, 0x89, 0x45,
		0x8b, 0x42, 0x88, 0x8a, 0xa6, 0xb3, 0xa8, 0xbc, 0x81, 0x8a, 0x81, 0xad, 0x82, 0xae, 0x87, 0x88,
		0xa5, 0x67, 0xab, 0x6a, 0x92, 0x49, 0xaa, 0x42, 0xb6, 0x4e, 0x8d, 0x4e, 0x5e, 0x80, 0x69, 0x43,
		0x45, 0x41, 0x4a, 0x46, 0x4d, 0x49, 0x52, 0x51, 0x8a, 0x46, 0x89, 0x47, 0x4b, 0x4f, 0x5f, 0x5b,
		0x6d, 0x67, 0x64, 0x5f, 0x46, 0x06, 0x48, 0x08, 0x63, 0x4d, 0x03, 0xa1, 0x70, 0x89, 0x06, 0x81,
		0x8b, 0x01, 0x48, 0x87, 0x44, 0x8a, 0x4c, 0x91, 0x51, 0x98, 0x51, 0x87, 0x03, 0x81, 0x89, 0x04,
		0x8f, 0x88, 0x86, 0x90, 0x8e, 0x95, 0x97, 0x81, 0x81, 0x82, 0x8b, 0x84, 0x8c, 0x98, 0x8d, 0xb2,
		0x93, 0x87, 0x00, 0xa9, 0xab, 0xad, 0x8e, 0x8a, 0x07, 0x69, 0x8c, 0x05, 0x5a, 0x89, 0x75, 0x84,
		0x48, 0x00, 0x87, 0x46, 0x80, 0x8c, 0x86, 0x92, 0x86, 0x90, 0x81, 0xa4, 0x4b, 0xb2, 0x81, 0x95,
		0x91, 0x9b, 0xab, 0xab, 0xbf, 0x95, 0x99, 0x87, 0x03, 0xb9, 0x87, 0x00, 0x89, 0x04, 0x42, 0xac,
		0x4e, 0x04, 0xb5, 0x51, 0x04, 0xb3, 0x4a, 0x81, 0x46, 0x86, 0x4a, 0x8b, 0x41, 0x81, 0x43, 0x44,
		0x45, 0x43, 0x51, 0x85, 0x5c, 0x8c, 0x6f, 0x8c,
	}

	r := thumbnail.DecodePath(thumb)
	w := os.Stdout
	w.WriteString(`<?xml version="1.0" encoding="utf-8"?>
<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
   viewBox="0 0 512 512" xml:space="preserve">
<path d="`)
	w.Write(r)
	w.WriteString(`"/>
</svg>`)

	// Output:
	// <?xml version="1.0" encoding="utf-8"?>
	// <svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
	//    viewBox="0 0 512 512" xml:space="preserve">
	// <path d="M260,504c-73,1-51-21-81-65-4-5-15,11-18,13-14,10-29,11-46,11-49,1-12-137-7-162,1-6,4-11,3-16,0-4-39-71-43-78-3-4-15-19-3-22,14-4,23,20,29,28,2,4,9-5,11-2,8,10,38,51,40,60,1,10,1,45,2,46,7,8,37-39,43-42,18-9,42-2,54-14,13-14-30,0-41-3-5-1-10-6-13-9-18-17,10-6,9-7-11-15-31-27-45-39-36-31-66-88-35-133,33-48,96,1,111-8,7-4,10-12,17-17,24-17,73,1,94,15,8,6,16,14,21,23,1,1,2,11,4,12,24,13,50,19,70,41,43,45,14,107-41,125-26,9-53,4-80,7-6,0,12,6,18,6,16,1,36-11,50,1,21,17,27,43,43,63,21,25,73,57,70,94-2,44-144,53-174,51-10,1-6,6-10,11-1,1-3-4-5-3-17,5-28,12-47,12z"/>
	// </svg>
}
